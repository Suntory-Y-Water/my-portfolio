{
  "id": "ADR-0001",
  "timestamp": "2026-01-01T14:45:00+09:00",
  "title": "Implement Dynamic Context Skill Loader and ADR Memory Manager",
  "status": "accepted",
  "context": {
    "problem": "The agent lacked a dynamic way to load context-specific skills and a structured method to record architectural decisions optimized for AI consumption.",
    "constraints": [
      "Must integrate with existing Claude Code/Antigravity workflow",
      "Must use JSON for ADRs as per 'adr-memory-manager' spec"
    ],
    "requirements": [
      "Dynamic skill loading based on user prompt",
      "Structured ADR storage"
    ]
  },
  "decision": {
    "summary": "Implement Dynamic Context Skill Loader and ADR Memory Manager workflows.",
    "details": "1. Adopted a dynamic skill loader that uses `context-skills.yml` to define skills and triggers, loaded via a `UserPromptSubmit` hook. 2. Adopted the ADR Memory Manager workflow to store ADRs in JSON format for better AI retrievability. 3. Updated `.claude/settings.json` to configure these hooks and permissions.",
    "alternatives": [
      {
        "option": "Static Skill Loading",
        "rejected": true,
        "reason": "Does not scale well with many context-specific skills."
      },
      {
        "option": "Markdown ADRs",
        "rejected": true,
        "reason": "Less structured/parseable for AI agents compared to JSON."
      }
    ],
    "rationale": "Dynamic loading improves performance and relevance of skills. JSON-based ADRs enable better semantic search and context retrieval for the agent.",
    "consequences": [
      "New `.claude/dynamic-context-skill-loader` directory",
      "New `docs/adr` directory structure",
      "Modifications to `.claude/settings.json`"
    ]
  },
  "implementation": {
    "affected_files": [
      ".claude/dynamic-context-skill-loader/context-skills.yml",
      ".claude/dynamic-context-skill-loader/context-skills-schema.json",
      ".agent/workflows/adr-memory-manager.md",
      ".claude/agents/adr-memory-manager.md",
      ".claude/settings.json"
    ],
    "affected_components": [
      "Agent Configuration",
      "Skill System",
      "Documentation"
    ],
    "code_patterns": [
      "UserPromptSubmit hook for dynamic loading",
      "JSON for ADRs"
    ],
    "examples": []
  },
  "metadata": {
    "tags": ["infrastructure", "agent-config", "adr", "skills"],
    "related_adrs": [],
    "supersedes": null,
    "superseded_by": null,
    "author": "Antigravity",
    "reviewers": []
  },
  "search_keywords": [
    "dynamic skill loader",
    "adr memory manager",
    "context-skills",
    "settings.json hooks"
  ],
  "vector_embedding": null
}
