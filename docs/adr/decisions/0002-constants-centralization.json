{
  "id": "ADR-0002",
  "timestamp": "2025-11-17T00:00:00Z",
  "title": "定数とURL設定の一元化",
  "status": "accepted",
  "context": {
    "problem": "URL、サイト名、リポジトリ情報などが複数ファイルに散在し、不整合やメンテナンス性の低下を引き起こしている",
    "constraints": [
      "TypeScriptの型安全性を維持",
      "既存のコードベースへの影響を最小化",
      "IDEのオートコンプリート対応"
    ],
    "requirements": [
      "定数の一元管理",
      "型安全性の確保",
      "保守性の向上",
      "変更箇所の削減"
    ]
  },
  "decision": {
    "summary": "`src/constants/index.ts`を作成し、名前空間付きエクスポートと`as const`で型安全な定数を定義する",
    "details": "プロジェクト全体で使用される定数(URL、サイト名、リポジトリ情報、ページネーション設定など)を`src/constants/index.ts`に集約する。各定数グループは名前空間(オブジェクト)にまとめ、`as const`アサーションを使用して型を厳密に推論させる。これにより、定数の変更が必要な場合は1箇所の修正で済み、型安全性も保証される。",
    "alternatives": [
      {
        "option": "既存の`src/config/site.ts`を拡張(Proposal B)",
        "pros": ["新規ファイル作成が不要", "既存の構造を活用できる"],
        "cons": [
          "設定ファイルと定数の責任が混在",
          "ファイルが肥大化する可能性",
          "config vs constantsの境界が曖昧"
        ],
        "rejected": true,
        "reason": "責任の分離を明確にするため、定数専用のファイルを作成する方が保守性が高い"
      },
      {
        "option": "ページネーション設定の統一(Proposal C)",
        "pros": [
          "ページネーション設定が一元化される",
          "特定の用途に特化した設計"
        ],
        "cons": [
          "他の定数(URL、サイト名など)は別途管理が必要",
          "包括的な解決策ではない"
        ],
        "rejected": true,
        "reason": "ページネーション設定だけでなく、すべての定数を一元化する包括的なアプローチの方が効果的"
      }
    ],
    "rationale": "単一変更点でのメンテナンス性向上、型安全性の確保(`as const`使用)、IDEのオートコンプリート対応、定数の出所が明確になることで、保守性とコード品質が向上する",
    "consequences": [
      "定数の変更が1箇所で完結",
      "型安全性が向上し、実行時エラーが減少",
      "IDEのオートコンプリートが効くため開発体験が向上",
      "定数の出所が明確になり、コードの可読性が向上",
      "既存のファイルを修正して新しい定数ファイルをインポートする必要がある"
    ]
  },
  "implementation": {
    "affected_files": [
      "src/constants/index.ts",
      "src/config/site.ts",
      "src/app/page.tsx",
      "src/app/blog/[slug]/page.tsx",
      "src/components/feature/content/github-edit-button.tsx",
      "src/app/blog/page.tsx"
    ],
    "affected_components": [
      "定数管理",
      "サイト設定",
      "トップページ",
      "ブログ詳細ページ",
      "ブログ一覧ページ",
      "GitHubリンクコンポーネント"
    ],
    "code_patterns": [
      "名前空間付きエクスポート(例：export const SITE_CONFIG = {...} as const)",
      "`as const`アサーションによる型推論",
      "個別インポート(バレルインポート禁止)"
    ],
    "examples": [
      {
        "file": "src/constants/index.ts",
        "line_start": 1,
        "line_end": 50,
        "description": "定数ファイルの基本構造。SITE_CONFIG、URLS、PAGINATION などの名前空間で定数を管理"
      },
      {
        "file": "src/app/page.tsx",
        "line_start": 1,
        "line_end": 20,
        "description": "定数ファイルから PAGINATION をインポートして使用する例"
      }
    ]
  },
  "metadata": {
    "tags": ["constants", "configuration", "url", "maintenance", "type-safety"],
    "related_adrs": [],
    "supersedes": null,
    "superseded_by": null,
    "author": "AIアシスタント",
    "reviewers": []
  },
  "search_keywords": [
    "定数",
    "一元化",
    "centralization",
    "constants",
    "URL",
    "設定",
    "configuration",
    "型安全",
    "type-safety",
    "as const",
    "メンテナンス",
    "maintenance",
    "保守性"
  ],
  "vector_embedding": null
}
