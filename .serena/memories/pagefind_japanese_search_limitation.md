# Pagefindæ—¥æœ¬èªæ¤œç´¢ã®èª¿æŸ»è¨˜éŒ²

**æ—¥ä»˜**: 2025-11-19
**é–¢é€£Issue**: #248
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: èª¿æŸ»ç¶™ç¶šä¸­ - å‚è€ƒå®Ÿè£…ã§ã¯æ—¥æœ¬èªæ¤œç´¢ãŒå‹•ä½œã—ã¦ã„ã‚‹

---

## å•é¡Œã®è©³ç´°

### ç—‡çŠ¶
- è‹±å˜èªï¼ˆä¾‹: `AA`ï¼‰ã§æ¤œç´¢ â†’ âœ… ãƒ’ãƒƒãƒˆ
- æ—¥æœ¬èªï¼ˆä¾‹: `ã‚¢ãƒ‹ãƒ¡`ï¼‰ã§æ¤œç´¢ â†’ âŒ 0ä»¶
- ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãªã—ã€ä¸€ç¬ã€Œæ¤œç´¢ä¸­...ã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹ãŒçµæœãŒè¿”ã‚‰ãªã„

### æ ¹æœ¬åŸå› 

**Pagefindã®æ—¢çŸ¥ã®åˆ¶é™äº‹é …**ï¼ˆå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚ˆã‚Šï¼‰

1. **ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§ã®æ—¥æœ¬èªæ¤œç´¢ã‚¯ã‚¨ãƒªã®ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³éå¯¾å¿œ**
   - å‡ºå…¸: https://pagefind.app/docs/multilingual/
   - æ—¥æœ¬èªãƒ»ä¸­å›½èªã®ã‚ˆã†ãªè¨€èªã§ã¯ã€æ¤œç´¢ã‚¯ã‚¨ãƒªã‚’ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§å˜èªã«åˆ†å‰²ã§ããªã„
   - Extendedç‰ˆã‚’ä½¿ç”¨ã—ã¦ã‚‚ã“ã®åˆ¶é™ã¯**è§£æ±ºã—ãªã„**

2. **Extendedç‰ˆã®å½¹å‰²**
   - Extendedç‰ˆ: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆæ™‚ã®å˜èªåˆ†å‰²ã‚’æ”¹å–„ï¼ˆã‚µãƒ¼ãƒãƒ¼å´ï¼‰
   - ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®æ¤œç´¢ã‚¯ã‚¨ãƒªã®åˆ†å‰²ã«ã¯**éå¯¾å¿œ**

3. **å…¬å¼ã®èª¬æ˜**
   > "Searching for `æ¯å€‹æœˆéƒ½` will return zero results, as Pagefind is not able to segment it into words in the browser."

---

## å®Ÿæ–½ã—ãŸå¯¾å¿œ

### 1. Pagefind Extendedç‰ˆã®å°å…¥

**å¤‰æ›´å†…å®¹**: `package.json`

```json
"postbuild": "npx pagefind --site .next --output-path public/pagefind"
```

**çµæœ**:
```
Running Pagefind v1.4.0 (Extended)
Indexed 220 pages
```

---

## âŒ è«–å¤–ã®å›é¿ç­–ï¼ˆå®Ÿè£…ã—ãªã„ï¼‰

ä»¥ä¸‹ã®å›é¿ç­–ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’è‘—ã—ãæãªã†ãŸã‚ã€**å®Ÿè£…ã—ãªã„**:

- ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã§æ¤œç´¢ï¼ˆ`ã‚¢ ãƒ‹ ãƒ¡`ï¼‰
- åˆ¥ã®æ¤œç´¢ã‚¯ã‚¨ãƒªã‚’ä½¿ç”¨
- è‹±èªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®ã¿ã«åˆ¶é™

## ğŸ” é‡è¦ãªç™ºè¦‹

**å‚è€ƒå®Ÿè£…ã§ã¯æ—¥æœ¬èªæ¤œç´¢ãŒå‹•ä½œã—ã¦ã„ã‚‹**

- å‚è€ƒè¨˜äº‹
  - https://mh4gf.dev/articles/pagefind-with-app-router
  - https://azukiazusa.dev/blog/static-site-search-engine-and-ui-library-pagefind/
  - https://liginc.co.jp/647675
  - https://www.petemillspaugh.com/nextjs-search-with-pagefind
- åŒã˜Pagefindã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŒã€æ—¥æœ¬èªæ¤œç´¢ãŒæ©Ÿèƒ½ã—ã¦ã„ã‚‹

**â†’ è¨­å®šã‚„å®Ÿè£…ã«é•ã„ãŒã‚ã‚‹ã¯ãš**

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆèª¿æŸ»ç¶™ç¶šï¼‰

### å„ªå…ˆåº¦1: å‚è€ƒå®Ÿè£…ã¨ã®å·®åˆ†ã‚’ç‰¹å®š

**èª¿æŸ»é …ç›®**:

1. **å‚è€ƒã‚µã‚¤ãƒˆã®å®Ÿè£…ã‚’è©³ç´°ç¢ºèª**
   - DevToolsã§å®Ÿéš›ã®æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç¢ºèª
   - Pagefindã®è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³
   - `postbuild`ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®è©³ç´°
   - æ¤œç´¢ã‚¯ã‚¨ãƒªã®å‰å‡¦ç†ã®æœ‰ç„¡

2. **ç¾åœ¨ã®å®Ÿè£…ã¨ã®æ¯”è¼ƒ**
   - ãƒ“ãƒ«ãƒ‰è¨­å®šã®é•ã„
   - PagefindåˆæœŸåŒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³
   - æ¤œç´¢UIã®å®Ÿè£…æ–¹æ³•
   - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆã‚ªãƒ—ã‚·ãƒ§ãƒ³

3. **Pagefindå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å†ç¢ºèª**
   - CJKå¯¾å¿œã®è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³
   - `--force-language`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®åŠ¹æœ
   - ãã®ä»–ã®æ—¥æœ¬èªé–¢é€£è¨­å®š

### å„ªå…ˆåº¦2: å…¬å¼Issueè¿½è·¡

**Issue #817**: Intl.Segmenterã«ã‚ˆã‚‹ãƒ–ãƒ©ã‚¦ã‚¶å†…ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- URL: https://github.com/Pagefind/pagefind/issues/817
- é€²æ—ã®ç›£è¦–

---

## å‚è€ƒè³‡æ–™

### å‹•ä½œã™ã‚‹å®Ÿè£…ä¾‹
- âœ… https://mh4gf.devï¼ˆæ—¥æœ¬èªæ¤œç´¢ãŒå‹•ä½œï¼‰
- è¨˜äº‹: https://mh4gf.dev/articles/pagefind-with-app-router

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- https://pagefind.app/docs/multilingual/
- https://pagefind.app/docs/installation/
- https://pagefind.app/docs/config-options/

### é–¢é€£Issue
- #817: Intl.Segmenterã«ã‚ˆã‚‹ãƒ–ãƒ©ã‚¦ã‚¶å†…ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

---

## æš«å®šçš„ãªçµè«–

**ç¾çŠ¶**: 
- âœ… Pagefind Extendedç‰ˆå°å…¥æ¸ˆã¿
- âœ… TypeScriptã‚¨ãƒ©ãƒ¼è§£æ±ºæ¸ˆã¿
- âŒ æ—¥æœ¬èªæ¤œç´¢ã¯å‹•ä½œã—ãªã„

**é‡è¦**: 
- å‚è€ƒå®Ÿè£…ã§ã¯æ—¥æœ¬èªæ¤œç´¢ãŒå‹•ä½œã—ã¦ã„ã‚‹
- è¨­å®šã‚„å®Ÿè£…ã«é•ã„ãŒã‚ã‚‹ã¯ãš
- **æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã®ç§»è¡Œã¯æ¤œè¨ã—ãªã„**ï¼ˆPagefindã§è§£æ±ºå¯èƒ½ãªã¯ãšï¼‰

**æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**:
1. å‚è€ƒã‚µã‚¤ãƒˆã®å®Ÿè£…ã‚’è©³ç´°ã«èª¿æŸ»
2. ç¾åœ¨ã®å®Ÿè£…ã¨ã®å·®åˆ†ã‚’ç‰¹å®š
3. å¿…è¦ãªè¨­å®šå¤‰æ›´ã‚’é©ç”¨
