# タスク完了時チェックリスト

## 必須実行項目

### 1. コード品質チェック
```bash
# AI用統合チェック（型チェック + リント）
pnpm run ai-check
```
このコマンドは以下を実行:
- `pnpm run typecheck`: TypeScript型チェック
- `pnpm run lint`: ESLintによるコードチェック

### 2. フォーマットチェック（必要に応じて）
```bash
# フォーマット確認
pnpm run format:check

# フォーマット適用
pnpm run format
```

## コード実装前チェックリスト

### 契約による設計チェック項目
- [ ] 引数の個数2個以上→オブジェクト形式
- [ ] 既存類似関数の命名パターン確認・踏襲
- [ ] TypeScript型保証済み事項→重複チェック禁止
- [ ] 契約による設計：関数名と型定義で契約を表現
- [ ] interface→typeで型定義
- [ ] 配列型定義：T[]形式
- [ ] 関数ベース実装
- [ ] In Source Testingでテストを実装

## エラー対応指針

### 型エラーが発生した場合
1. TypeScriptの型定義を見直す
2. 既存型を活用できるかチェック（Pick、Omitなど）
3. アサーションが必要な場合はユーザーに許可を求める

### リントエラーが発生した場合
1. 自動修正を試行: `pnpm run lint:fix`
2. Import順序の確認
3. 未使用importの削除確認
4. コーディング規約との整合性確認

## 追加推奨項目

### ローカル確認
```bash
# 開発サーバーで動作確認
pnpm dev
```

### ビルド確認（重要な変更の場合）
```bash
# プロダクションビルド
pnpm build
```

## CLAUDE.md運用原則の遵守
- ファイル生成・更新・プログラム実行前の作業計画報告
- 曖昧な指示の場合は具体的範囲・方法・制約の明確化
- ユーザー確認なしの推測実行禁止