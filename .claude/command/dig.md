---
description: "不明確な点を構造化された質問で明確にする"
allowed-tools:
  - Write
  - Edit
  - Read
  - Grep
  - Glob
  - TodoRead
  - TodoWrite
  - AskUserQuestion
---

現在のプランファイルを読み込み、AskUserQuestionToolを使用して、文字通りあらゆることについて詳細にインタビューします。
- 製品仕様
- 技術的詳細
- UI/UX
- その他すべて

以下のフェーズに従ってください。

1. 不明瞭な点の明確化
2. ユーザーに意思決定のための質問をする
3. 決定をプランに適用する
4. ユーザーへの要約を表示する

非常に詳細に行い、不明瞭な点がすべてなくなるまで掘り下げてください。その後、仕様をプランファイルに記述します。
フェーズ3の後、プランファイルを見直し、分析します。不明瞭な点を提起し、フェーズ2に移行する必要があります。

### フェーズ2: 質問の生成

<rules>
- 質問数: **2〜4** (曖昧さのレベルに応じて調整)
- 各質問には**2〜4個の具体的な選択肢**があります。
- 各選択肢には**長所/短所**が簡潔に含まれます。
- オープンエンドな質問は避けてください。
- 「その他」の選択肢は自動的に追加されます。含めないでください。
- CLAUDE.md (利用可能な場合) の既存のパターンと選択肢を一致させます。
</rules>

### フェーズ3: 回答後の処理

<output_format>
ユーザーの回答を受け取ったら、以下を出力します。

## 決定事項

| 項目 | 選択 | 理由 | 備考 |
|------|--------|--------|-------|
| データストレージ | データベース | スケーラビリティのニーズ | マイグレーション戦略を検討 |

## 次のステップ

1. **最初のタスク**
   - 詳細...
2. **2番目のタスク**
   - 詳細...
</output_format>

---

## 重要な注意事項

- **AskUserQuestionツールを必ず使用する** - 会話形式の質問ではありません。
- **言語選択**:
  1. 言語の好み (例: 「日本語で回答する」) が CLAUDE.md にあるか確認します。
  2. フォールバック: 好みが見つからない場合は英語を使用します。
- 各選択肢には**長所/短所**を含める必要があります。
- multiSelect は控えめに使用します (デフォルト: false)。
- 質問を生成する前に CLAUDE.md を読み、プロジェクトのパターンと一致させます。