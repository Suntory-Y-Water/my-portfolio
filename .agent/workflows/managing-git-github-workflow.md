---
description: GitとGitHubの操作（コミット、プッシュ、PR作成・編集、Issue作成・管理）を標準化するワークフロー
---

# Git & GitHub Workflow

このワークフローは、Gitによるバージョン管理とGitHub CLIを使用したプルリクエスト/Issue管理をガイドします。以下の定義されたテンプレートとルールに厳密に従ってください。

## 1. ブランチ戦略と作成

作業を開始する前に、適切なブランチを作成します。`main` ブランチでの直接作業は禁止です。

- **現在のステータス**: `git status` を実行
- **ブランチ作成**: `git switch -c <branch-name>`

### ブランチ命名規則
`feature-` や `fix-` などのプレフィックスを使用してください。

## 2. コミット規約

コミットメッセージは以下の形式とTypeに従って、**日本語**で記述してください。

### 基本形式
```
<type>: <概要>
```

### Type一覧

| Type | 説明 | 例 |
|------|------|-----|
| `feat` | 新機能追加 | `feat: ユーザー認証機能を追加` |
| `fix` | バグ修正 | `fix: ログイン時のエラーを修正` |
| `refactor` | リファクタリング | `refactor: 認証ロジックを整理` |
| `docs` | ドキュメント変更 | `docs: READMEを更新` |
| `test` | テスト追加・修正 | `test: ログインテストを追加` |
| `chore` | ビルド、ツール設定など | `chore: 依存パッケージを更新` |
| `style` | コードスタイル修正 | `style: フォーマットを統一` |
| `perf` | パフォーマンス改善 | `perf: 画像読み込みを最適化` |

### コミットコマンド例
```bash
git commit -m "feat: 新機能の概要"
```

## 3. プッシュ

- 初回: `git push -u origin <branch-name>`
- 以降: `git push`

## 4. プルリクエスト (PR) 作成

PRのタイプに応じて、以下のテンプレートを使用してください。

### 基本テンプレート (機能追加など)

```bash
gh pr create --title "feat: 機能名" --body "$(cat <<'EOF'
## 概要
この変更の目的と背景

## 変更内容
- 主な変更点1
- 主な変更点2
- 主な変更点3

## テスト
- [ ] ローカルでの動作確認
- [ ] テストの追加・更新

EOF
)"
```

### バグ修正PR

```bash
gh pr create --title "fix: バグの概要" --body "$(cat <<'EOF'
## 問題
発生していた問題の説明

## 原因
バグの原因

## 対応内容
- 修正内容1
- 修正内容2

## 影響範囲
この修正による影響範囲

## テスト
- [ ] バグ再現の確認
- [ ] 修正後の動作確認
- [ ] 関連機能の動作確認

EOF
)"
```

### リファクタリングPR

```bash
gh pr create --title "refactor: リファクタリング内容" --body "$(cat <<'EOF'
## 目的
リファクタリングの目的

## 変更内容
- 変更点1
- 変更点2

## 動作確認
- [ ] 既存機能の動作確認
- [ ] パフォーマンステスト

## 備考
その他の注意事項

EOF
)"
```

### ドキュメント更新PR

```bash
gh pr create --title "docs: ドキュメント更新内容" --body "$(cat <<'EOF'
## 変更内容
- 更新したドキュメント
- 追加した情報

## 理由
ドキュメント更新の理由

EOF
)"
```

### PR確認・編集

- 確認: `gh pr view <PR番号>`
- 編集: `gh pr edit <PR番号> --body "..."`
- コメント取得: `gh api repos/{owner}/{repo}/pulls/<PR番号>/comments`

## 5. Issue 作成

Issueのタイプに応じて、以下のテンプレートを使用してください。

### バグ報告

```bash
gh issue create --title "バグ: 問題の概要" --body "$(cat <<'EOF'
## 問題の説明
発生している問題の詳細

## 再現手順
1. ステップ1
2. ステップ2
3. ステップ3

## 期待される動作
本来どのように動作すべきか

## 実際の動作
実際にどのような動作をしているか

## 環境
- OS:
- ブラウザ:
- バージョン:

## スクリーンショット
（あれば）

## 追加情報
その他の関連情報
EOF
)"
```

### 機能リクエスト

```bash
gh issue create --title "機能: 機能の概要" --body "$(cat <<'EOF'
## 機能の説明
実装してほしい機能の詳細

## 理由・背景
この機能が必要な理由

## 期待される動作
どのように動作すべきか

## 代替案
考えられる別のアプローチ

## 追加情報
その他の参考情報
EOF
)"
```

### 改善提案

```bash
gh issue create --title "改善: 改善内容の概要" --body "$(cat <<'EOF'
## 現状
現在の状況

## 提案内容
どのように改善すべきか

## メリット
改善による利点

## 実装の影響
実装時の影響範囲や注意点
EOF
)"
```

### ドキュメント更新

```bash
gh issue create --title "ドキュメント: 更新内容の概要" --body "$(cat <<'EOF'
## 必要なドキュメント
追加・更新が必要なドキュメント

## 理由
ドキュメントが必要な理由

## 含めるべき内容
記載すべき内容のリスト
- 項目1
- 項目2
EOF
)"
```

### 質問

```bash
gh issue create --title "質問: 質問の概要" --body "$(cat <<'EOF'
## 質問内容
具体的な質問

## 背景
質問に至った背景や状況

## 試したこと
既に試したことや調べたこと
EOF
)"
```

## 6. 注意事項

- **言語**: コミットメッセージ、PR、Issueの本文は原則として**日本語**を使用してください。
- **具体性**: 変更内容や問題の詳細は、レビュアーや他の開発者が理解できるように具体的に記述してください。