---
title: 図解から始める認知負荷との付き合い方
slug: cognitive-load-management-with-diagrams
date: 2026-01-04
modified_time: 2026-01-04
description: AI時代、文字を読む量が圧倒的に増えています。生成AIからの提案を承認する度に大量のテキストを読み込む認知負荷の高さに「もう無理だ」と感じた経験から、技術ブログに図解機能を実装しました。図解は「記憶の定着装置」として機能し、全体像を視覚的に示すことで認知負荷を下げます。本記事では、なぜ図解が有効なのか、そしてAIを活用してどう実装したのかを解説します。
icon: 💭
icon_url: /icons/thought_balloon_flat.svg
tags:
  - ブログ
  - AI
diagram:
  - type: hero
    date: "2026/01/04"
    title: "図解から始める認知負荷との付き合い方"
    subtitle: "AI時代の情報過多を視覚的アプローチで攻略する"
  - type: problem
    variant: highlight
    icon: brain
    title: "AI時代の認知負荷"
    introText: "生成AIとの協働が当たり前になった現在、私たちはかつてないほどの大量のテキスト処理と意思決定の連続に晒されています。"
    cards:
      - icon: messageSquare
        title: "承認の連続"
        subtitle: "レビューの重圧"
        description: "AIの提案コードを一行ずつ確認し、判断を下す重労働。"
      - icon: alertTriangle
        title: "文字情報の洪水"
        subtitle: "処理能力の限界"
        description: "膨大なテキストを読み解く作業に、脳の処理が追いつかない。"
        isHighlight: true
        accentColor: RED
      - icon: batteryWarning
        title: "決断疲れ"
        subtitle: "Decision Fatigue"
        description: "繰り返される判断により、集中力と意思決定の質が低下する。"
  - type: transition
  - type: core_message
    variant: simple
    icon: layoutTemplate
    title: "記憶の定着装置"
    mainMessage: "図解は単なる補足情報ではありません。全体像を視覚的に把握し、詳細を理解するためのメンタルモデルを構築する土台となります。"
    comparisons:
      - icon: bookOpen
        title: "いきなり詳細"
        text: "全体像が見えないまま大量の情報を浴び、挫折する。"
        isGood: false
      - icon: lightbulb
        title: "まず概要"
        text: "図解で構造を理解してから詳細へ進み、記憶に残す。"
        isGood: true
  - type: grouped_content
    title: "運用コスト最小化の戦略"
    introText: "図解機能の実装にあたり、運用の手間を極限まで減らし持続可能なシステムにするための2つのアプローチを採用しました。"
    groups:
      - title: "既存記事の活用"
        description: "記事本文と図解を1対1で管理し、フロントマターで制御する。"
        cards:
          - title: "フロントマター管理"
            text: "YAML定義を追加するだけで図解ページを生成。"
          - title: "型安全な実装"
            text: "Astroの機能を活用し堅牢なシステムを構築。"
      - title: "AIによる自動化"
        description: "手作業での図解作成を廃止し、生成AIに任せる。"
        isHighlight: true
        cards:
          - title: "専用プロンプト"
            text: "記事を入力するだけでYAMLデータを自動生成。"
            isHighlight: true
            accentColor: GOLD
          - title: "手戻りなし"
            text: "高い精度で構造化され、確認作業のみで完結。"
  - type: core_message
    variant: highlight
    icon: scale
    title: "正確さと分かりやすさ"
    mainMessage: "図解は情報を圧縮する過程で欠落が生じますが、それでも「まず理解される」というメリットの方が圧倒的に大きいと判断しました。"
    comparisons:
      - icon: fileText
        title: "正確だが難解"
        text: "詳細を詰め込みすぎて、結局読まれない。"
        isGood: false
      - icon: checkCircle
        title: "荒削りだが伝わる"
        text: "詳細は省き、コアメッセージを確実に届ける。"
        isGood: true
    coreHighlight:
      title: "認知負荷の低減"
      text: "詳細な正確さよりも全体像の把握を優先し、読者の「分からない」を解消する。"
      accentColor: GOLD
  - type: transition
  - type: action
    title: "視覚情報で脳を助ける"
    mainText: "文字情報の波に溺れる前に、図解というツールを使って情報を整理し、自分と読者の認知負荷を下げましょう。"
    actionStepsTitle: "導入のステップ"
    actionSteps:
      - title: "完璧を目指さない"
        description: "荒削りでも良いので、まずは全体像を可視化する。"
      - title: "AIを使い倒す"
        description: "面倒な作業はAIに任せ、思考と設計に集中する。"
    pointText: "情報が伝わらないストレスから解放され、より本質的なコミュニケーションと理解を目指して。"
    footerText: "正確さより、伝わることを選ぼう。"
    subFooterText: "sui Tech Blog"
    accentColor: GOLD
---

皆さんは、Google 製の IDE である「Antigravity」を使っていますか？これは VS Code をフォークした AI エディタの 1 つです。

Antigravity の主な特徴は、AWS 製の「kiro」エディタと同じく、生成 AI がコードベースを実行する際に「こういった実行計画を行います」と、IDE 上でタスクリストや実装計画を提示してくる点です。

実際に開発している時、新しく作成するファイルには「NEW」、更新するファイルには「MODIFY」などのマークが表示されます。便利な機能ですが、問題はその後です。AI が提示したコードを承認する前に、1 行ずつ読み込んで変更内容を理解し、判断しなくてはなりません。AI の出力には誤りが含まれる可能性があり、プロンプトの伝え方にミスがあれば見当違いな実装になることもあるからです。この「大量のテキストを読んで判断する」という作業が繰り返されることに、認知負荷の高さを感じました。
そこで、「これは認知負荷が高すぎる...もう無理だ！」と正直思いました。生成 AI から次々に承認を求められる開発現場において、文字情報だけでは限界があるのです。

2025 年は Claude Code や Gemini など AI エージェントの進化に伴い、開発現場で文字を読む機会が圧倒的に増えました。これは仕事でいうと、マネージャーなどの意思決定を行う立場の人に多い印象です。同じような構造が一般的なメンバー層にも発生するようになりました。ですがレビューをするのは人間ではなく AI からの提案です。

文字情報が多い場合、認知負荷は高まります。とあるラジオ配信で「文字情報ではなく図解を活用することで認知負荷を下げる」という話を聞いた経験から、実際にこの技術ブログへ図解機能を実装しました。本記事では、なぜこの機能を実装したのか、その理由と設計思想について解説します。

## 認知負荷の高まりと文字情報の限界

私たち人間は、1 日の中で数多くの意思決定を行っています。どの服を着るか、といった無意識の選択から、仕事上の重要な判断まで、日常のあらゆる行動は意思決定の連続です。心理学では **decision fatigue(決断疲れ)** という概念が知られています。判断を重ねることで集中力や判断の質が低下する可能性がある、というものです。重要なのは回数そのものよりも、判断の重さや連続性、文脈の切り替えによる負荷です。

昨今の生成 AI を用いた開発現場では、この負荷が顕著です。1 日に何度も、AI が提示する修正案や実装案に対して承認・却下の判断を求められ、そのたびに大量のテキストを読み込む必要があります。これは「理解 → 判断 → 責任を持った承認」という高い認知負荷を伴う作業です。文字情報は正確である一方、大量に重なると処理に苦痛や多大な負担が伴います。文章で丁寧に書いたにもかかわらず、結局ほとんど読まれていなかった、という経験は心当たりがあるでしょう。そういった場面では、口頭でのコミュニケーションや図解による説明が特に有効です。

## 図解は「記憶の定着装置」である

私の体験ですが、実際に契約している有料メディアの中で、音声配信（ラジオ）や文字起こしの他に、記事の内容を要約した図解を提供しているものがあります。配信を聴いたあとに図解を見る、という流れにすると、音声で全体像を把握した後に「図」という視覚的な情報で構造を再確認できます。このプロセスを挟むことで、内容が頭の中で整理され、理解が深まります。また、逆の使い方もあります。本の要約動画であらかじめ内容を把握してから、本を購入することがあります。これは「地雷を踏みたくない」という理由もありますが、いきなり 300 ページや 400 ページもある分厚い本を読むと、途中で諦めてしまうことが多いからです。

まず概要を把握し、メンタルモデルを作ってから本を読む。そうすることで、「どんな内容が書かれているのか」が分かった状態で読み進めることができ、結果としてスムーズに理解できます。図解や要約は、単なる補足情報ではありません。内容を理解したあと、あるいは時間が経って忘れかけたときに、記憶を呼び起こす「記憶の定着装置」として機能します。また、実務でも図解の有効性を実感しました。お客先向けの資料を作成する際、最初は文章の箇条書きで説明していましたが、意図が正しく伝わらない恐れを感じたので、図解を活用しました。ビジネスにおける図解は、構造・関係性・全体感が一目で伝わるため、認識齟齬を防ぎ、スムーズな意思決定を促進します。

このように、図解の効果は実感していました。しかし、記事を書く度に手作業で図解を作るのは現実的ではありません。そこで、ブログに図解機能を実装し、AI で自動化することにしました。

## AIを活用した図解機能の実装

図解機能は、**荒削りで良い**という考えで作成します。詳細を全部詰め込むと、結局文字だらけになり、認知負荷は下がりません。図解の役割は「記憶の定着」であり、「完全な説明」ではありません。そのため、図解には伝えたいコアメッセージだけを提示し、詳細はブログ本文で補完する設計にしました。

**運用の手間を極限まで減らすこと**を最優先に、以下の 2 点を重視しました。

### 既存の記事をそのまま活用できるようにすること

フロントマターに必要な定義を追加するだけで、対応する図解ページを新たに作成できる設計にし、既存の記事を最大限活用できるようにしました。記事本文と図解ページを 1 対 1 で管理できるため、後から構成を変更することも容易です。

たとえば、 [Claude Codeへ「スキルを使って」と言うのに疲れたあなたへ](https://suntory-n-water.com/blog/claude-code-dynamic-skill-loading/) という記事では、図解ページ用に以下のフロントマターを定義しています。

```yaml
---
diagram:
  - type: hero
    date: "2025/12/30"
    title: "Claude Codeへ「スキルを使って」と言うのに疲れたあなたへ"
    subtitle: "UserPromptSubmit Hooksで実現する確実なAgent Skills実行戦略"
  - type: problem
    title: "Agent Skills運用の壁"
    introText: "便利な機能ですが、AIの自律的な判断に任せると意図通りに動かないことが多々あります。"
    cards:
      - icon: alertCircle
        title: "スキルが起動しない"
        subtitle: "推論の限界"
        description: "AIが文脈から判断するため、明確に指示しないと認識されないことがある。"
        isHighlight: true
        accentColor: RED
      - icon: message
        title: "毎回指示が面倒"
        subtitle: "入力の手間"
        description: "ほんの数文字の指示であっても、毎回入力するのは億劫になってしまう。"
      - icon: pen
        title: "記述の限界"
        subtitle: "Description制限"
        description: "文字数制限があり、あらゆるキーワードや言い回しを網羅できない。"
  - type: core_message
    title: "推論から確実なルールへ"
    mainMessage: "AIの曖昧な推論判定に頼るのをやめ、Hooksを利用してキーワード合致時に強制的な起動指示を注入します。"
    comparisons:
      - icon: help
        title: "AI任せの推論"
        text: "ユーザーの意図を汲み取れず、スキルが起動しないことがある。"
        isGood: false
      - icon: zap
        title: "Hooksによる強制"
        text: "キーワード検知で確実にスキルを起動させる。"
        isGood: true
    coreHighlight:
      title: "UserPromptSubmitの活用"
      text: "ユーザー入力送信前にシステムが介入し、強力な指示をプロンプトに追加する。"
      accentColor: GOLD
  - type: flow_chart
    title: "確実な起動の仕組み"
    introText: "ユーザーが入力してからスキルが実行されるまでの処理フローです。"
    flows:
      - label: "ユーザー入力"
        subLabel: "git commit..."
      - label: "Hooks検知"
        subLabel: "キーワード一致"
      - label: "指示注入"
        subLabel: "強制起動命令"
        highlight: true
        accentColor: GOLD
      - label: "Claude推論"
        subLabel: "指示を認識"
      - label: "スキル実行"
        subLabel: "タスク完了"
  - type: steps
    title: "実装ステップ"
    introText: "Bun環境でHooksをセットアップし、キーワードマッチングを実装する手順です。"
    steps:
      - number: 1
        title: "環境構築"
        text: "Bunとライブラリ導入"
        detailText: "Bunをインストールし、型安全なライブラリcc-hooks-ts等を導入します。"
      - number: 2
        title: "設定定義"
        text: "スキーマとYAML作成"
        detailText: "起動条件となるキーワードと、対応するスキル情報を定義します。"
      - number: 3
        title: "ロジック実装"
        text: "Hooksスクリプト作成"
        detailText: "入力内容を判定し、条件合致時にプロンプトを注入する処理を書きます。"
      - number: 4
        title: "登録"
        text: "settings.json設定"
        detailText: "作成したHooksスクリプトをClaude Codeの設定ファイルに登録します。"
  - type: action
    title: "AIを使いこなそう"
    mainText: "AIの進化を待つだけでなく、今ある機能をハックして自分の手になじませていきましょう。"
    actionStepsTitle: "攻略のステップ"
    actionSteps:
      - title: "課題を見つける"
        description: "毎日の作業で感じる小さなストレスや反復作業を特定する。"
      - title: "仕組みで解決"
        description: "Hooksや設定ファイルを活用して、自分だけの自動化を構築する。"
    pointText: "発展途上の技術を攻略する楽しさを知り、快適な開発環境を作りましょう。"
    footerText: "泥臭いハックで確実な成果を。"
    subFooterText: "sui Tech Blog"
    accentColor: GOLD
---
```

本ブログは Astro で開発しており、Astro の Markdown ファイルに記述されたフロントマターを型安全に解析しています。`diagram` 配下の `type` セクションの値に応じて専用のコンポーネントを用意し、それらを上から順に読み込んでレンダリングするしくみです。詳細な実装は、以下のリポジトリをご確認ください。

https://github.com/Suntory-N-Water/sui-blog/tree/main/src/components/feature/diagram

フロントマターに定義された `diagram` 情報をもとに、記事を書いたあとに追加の工数をほとんどかけることなく図解ページを生成できました。

### 生成AIを活用して、図解作成の工数をほぼゼロにすること

図解作成用の専用プロンプトを使用し、上記のフロントマターにある yaml を生成します。このプロンプトは Gemini の Gem に定義しており、記事の Markdown ファイルを入力するだけで自動生成できます。
プロンプトは *Gemini を使用して Google Slides を作成する「まじん式」プロンプト*の v3 を参考にさせていただきました。

https://note.com/majin_108/n/n11fc2f2190e9

プロンプトの精度が高いため、100％ に近い確率で生成に成功します。人間が行うのは、生成された要約内容を最終確認するだけで、大きな手戻りが発生することはほとんどありません。
参考程度にプロンプトを掲載しますので、興味ある人はご確認ください。

<details>
<summary>図解生成プロンプト</summary>

````md
## **1.0 PRIMARY_OBJECTIVE — 最終目標**

あなたは、ユーザーから与えられたブログ記事の本文を解析し、後述するスキーマに準拠した **`diagram` という名のYAML配列を、Markdownフロントマター形式で生成すること**だけに特化した、超高精度データサイエンティスト兼図解設計AIです。

あなたの**絶対的かつ唯一の使命**は、ブログ記事の内容から論理的な図解構造を抽出し、**多様なセクションタイプの中から最適なものを選定**し、読者の理解を最大化する完璧でエラーのない `diagram` データをYAML形式で出力することです。

**`diagram` の生成以外のタスクを一切実行してはなりません。** あなたの思考と出力のすべては、最高の `diagram` を生成するためだけに費やされます。

時間をいくらかけても良いので、品質を優先すること。

---

## **2.0 GENERATION_WORKFLOW — 厳守すべき思考と生成のプロセス**

1. **【ステップ1: コンテンツの完全分解と構造分析】**
    - **分解**: ブログ記事の本文を読み込み、**目的・課題・解決策・結論**を把握。
    - **起承転結マッピング**: 内容を以下の4段階に内部分類：
        - **起（導入）**: 記事の背景、読者が抱える状況の説明
        - **承（問題提起）**: 課題の詳細、なぜ問題なのかの掘り下げ
        - **転（解決策）**: 具体的な解決方法、手順、実装の説明
        - **結（まとめ）**: 結論、読者へのアクション喚起
    - **要素抽出**: 以下の要素を特定：
        - 記事の核心メッセージ
        - 読者が抱える課題・問題点（複数可）
        - 提案する解決策・手法
        - 具体的なステップ・手順
        - 比較対象（良い例 vs 悪い例）
        - 数値データ・統計情報
        - プロセスフロー・因果関係

2. **【ステップ2: 図解設計の確認】**
    - **推測分析**: 入力テキストから以下を自動推測：
        - 図解の対象読者（初心者/中級者/上級者）
        - 図解の目的（問題解決/手順説明/比較検討）
        - 想定セクション数（5〜10セクション推奨）
        - 起承転結の各パートに割り当てるセクション数
        - 強調すべき核心ポイント
    - **確認質問**: 推測結果を**以下の表形式のみ**で表示：

## 📊 推測結果

| 項目 | 推測結果 |
|------|----------|
| **対象読者** | [推測結果] |
| **目的** | [推測結果] |
| **想定セクション数** | [推測結果] |
| **起（導入）** | [割り当てセクション数とタイプ] |
| **承（問題提起）** | [割り当てセクション数とタイプ] |
| **転（解決策）** | [割り当てセクション数とタイプ] |
| **結（まとめ）** | [割り当てセクション数とタイプ] |
| **核心ポイント** | [推測結果] |

## 📝 確認方法

**上記で問題なければ「OK」「はい」「了解」「そのままで」のいずれかを入力してください。**

**調整したい項目がある場合は、具体的に教えてください。**

3. **【ステップ3: 起承転結に基づくセクションタイプ選定】**
    - **起承転結と最適セクションタイプの対応表**:
        
        | 段階 | 役割 | 推奨セクションタイプ | 選定基準 |
        |------|------|---------------------|----------|
        | **起（導入）** | 読者の関心を引く | `hero` | **必須**。記事タイトルとサブタイトルを設定 |
        | **承（問題提起）** | 課題を明確化 | `problem`, `core_message`, `grouped_content` | 課題が複数→`problem` / 単一核心→`core_message` / 階層的な整理→`grouped_content` |
        | **転（解決策）** | 具体的な方法を提示 | `steps`, `list_steps`, `flow_chart`, `score_comparison`, `grouped_content` | 手順詳細→`steps` / 簡潔リスト→`list_steps` / フロー→`flow_chart` / 数値比較→`score_comparison` / 階層的な情報→`grouped_content` |
        | **結（まとめ）** | 行動を促す | `action` | **必須**。読者へのCTAを設定 |
        | **区切り** | 段階間の視覚的区切り | `transition` | 起→承、承→転、転→結の間に任意で挿入 |
        
        **【必須】パターン多様性の確保**
        - 1つの図解で最低4種類の異なるセクションタイプを使用
        - 同一セクションタイプの連続使用を避ける（`transition` を除く）
        - `hero` と `action` は必ず含める

4. **【ステップ4: 起承転結に基づくセクションマッピング】**
    - **起（導入）**: 1セクション
        - `hero`（必須）
    - **承（問題提起）**: 1〜3セクション
        - `problem`（複数課題）または `core_message`（単一核心・比較対比）
        - `grouped_content`（階層的な情報の整理・補足コラム）
        - 必要に応じて `transition` を前後に挿入
    - **転（解決策）**: 2〜5セクション
        - `steps`（詳細な手順）
        - `list_steps`（簡潔なリスト）
        - `flow_chart`（プロセスフロー）
        - `score_comparison`（数値比較）
        - `core_message`（解決策の核心）
        - `grouped_content`（階層的な情報の整理・概念の深掘り）
        - 必要に応じて `transition` を挿入
    - **結（まとめ）**: 1セクション
        - `action`（必須）

5. **【ステップ5: YAML出力の厳密な生成】**
    - **3.0 スキーマ**と**4.0 ルール**に準拠し、1件ずつ生成
    - 各セクションの必須フィールドを漏れなく設定
    - **文字列内に改行コード（`\n`）を絶対に含めない**
    - オプションフィールドは内容に応じて適切に使用

6. **【ステップ6: 自己検証と反復修正】**
    - **チェックリスト**:
        - [ ] `hero` セクションが最初に存在する
        - [ ] `action` セクションが最後に存在する
        - [ ] 起承転結の流れが論理的である
        - [ ] 最低4種類のセクションタイプを使用している
        - [ ] 同一セクションタイプが連続していない（`transition` を除く）
        - [ ] すべての必須フィールドが設定されている
        - [ ] `icon` フィールドに有効な値のみを使用している
        - [ ] `accentColor` に `GOLD` または `RED` のみを使用している
        - [ ] `steps` セクションの `number` フィールドが連番になっている
        - [ ] 文字数が適切な範囲内である
        - [ ] **文字列内に改行コード（`\n`, `\\n`）が含まれていない**
        - [ ] **文字列内に禁止記号（`■`, `→`, `▶`）が含まれていない**

7. **【ステップ7: 最終出力】**
    - **ユーザーが「OK」「はい」「了解」「そのままで」と返答した場合**：
        - **即座にYAMLデータの生成に移行**
        - **前置き、説明文、挨拶文は一切含めない**
        - 検証済みのYAML配列を、YAMLコードブロックに格納して出力

---

## **3.0 diagramスキーマ定義**

**共通の値定義**

```yaml
# IconName（アイコン名）
# Lucide Reactのアイコン名をキャメルケース（小文字始まり）で指定
# 例: alert, checkCircle, arrowRight
# アイコン一覧: https://lucide.dev/icons/
# 未実装のアイコンはビルドエラーになりますが開発者が対応します

# ColorKey（アクセントカラー）
# GOLD または RED
```

**セクションタイプ別定義**

### **hero（ヒーローセクション）** — 起（導入）・必須・最初に配置
記事の表紙。タイトルとサブタイトルで読者の関心を引く。

```yaml
- type: hero
  date: "YYYY/MM/DD"        # 必須: 【重要】記事の公開日付と同じ（文字列）
  title: "..."              # 必須: 【重要】記事のタイトルと同じ（全角40文字以内）
  subtitle: "..."           # 必須: サブタイトル（全角80文字以内）
```
タイトルと公開日付は、記事の内容と同じ内容を設定する。
```yaml 
# 例 元になるタイトルと日付を一言一句同じにする！
title: "ブログ記事のタイトル"
date: "2025/01/01"
- type: hero
  date: "2025/01/01"        # 必須: 【重要】記事の公開日付と同じ（文字列）
  title: "ブログ記事のタイトル"              # 必須: 【重要】記事のタイトルと同じ（全角40文字以内）
```


### **problem（問題セクション）** — 承/転（問題提起、解決策の提示）・複数の課題を提示解決策の提示
読者が抱える問題・課題をカード形式で可視化。

**2つのバリアント**:
- `simple`（デフォルト）: 背景色のみのシンプルな表示
- `highlight`: 太い枠線付きの強調表示

```yaml
- type: problem
  variant: simple             # 任意: 'simple'（デフォルト）または 'highlight'
  icon: alert                 # 任意: セクションアイコン（デフォルト: alert）
  title: "..."                # 必須: セクションタイトル（全角30文字以内）
  introText: "..."            # 必須: 導入テキスト（全角100文字以内）
  cards:                      # 必須: 問題カード配列（2〜4枚）
    - icon: alert             # 必須: アイコン名
      title: "..."            # 必須: カードタイトル（全角20文字以内）
      subtitle: "..."         # 必須: カードサブタイトル（全角25文字以内）
      description: "..."      # 必須: カード説明（全角60文字以内）
      isHighlight: true       # 任意: ハイライト表示
      accentColor: RED        # 任意: アクセントカラー
  summaryTitle: "..."         # 任意: まとめタイトル
  summaryText: "..."          # 任意: まとめテキスト
```

**バリアント別の使い分け**:
| バリアント | 用途 | レイアウト |
|-----------|------|-----------|
| `simple` | 通常の問題提起 | 背景色のみ |
| `highlight` | 重要な問題・解決策の強調 | 枠線付き |

**カードレイアウト**:
- 2枚: 2列表示
- 3枚: 3列表示
- 4枚: 2x2グリッド表示

### **transition（トランジション）** — 起承転結の区切り
視覚的な区切りを挿入。起→承、承→転、転→結の間に配置。

```yaml
- type: transition
```

### **core_message（核心メッセージセクション）** — 承/転・解決策の提示
記事の核心メッセージと、オプションで比較対比を表示。

**2つのバリアント**:
- `highlight`（デフォルト）: 太い枠線、COREバッジ付きの強調表示
- `simple`: 枠線なし、バッジなしのシンプル表示

```yaml
- type: core_message
  variant: highlight          # 任意: 'highlight'（デフォルト）または 'simple'
  icon: target                # 任意: タイトル横のアイコン
  title: "..."                # 必須: セクションタイトル（全角30文字以内）
  mainMessage: "..."          # 必須: メインメッセージ（全角120文字以内）
  comparisons:                # 任意: 比較項目配列（2項目固定：悪い例→良い例）
    - icon: alert             # 必須: アイコン名
      title: "..."            # 必須: 比較タイトル（全角20文字以内）
      text: "..."             # 必須: 比較テキスト（全角60文字以内）
      isGood: false           # 必須: 良い例か否か
    - icon: zap
      title: "..."
      text: "..."
      isGood: true
  coreHighlight:              # 任意: コアハイライト（highlight版では推奨）
    title: "..."              # 必須: ハイライトタイトル（全角25文字以内）
    text: "..."               # 必須: ハイライトテキスト（全角80文字以内）
    accentColor: GOLD         # 任意: アクセントカラー
```

**バリアント別の使い分け**:
| バリアント | 用途 | coreHighlight |
|-----------|------|---------------|
| `highlight` | 記事の最も重要な核心メッセージ | 推奨 |
| `simple` | 問題提起や導入的なメッセージ、比較カードの提示 | 任意 |

### **steps（ステップセクション）** — 転（解決策）・詳細な手順説明
番号付きの詳細なステップを表示。

```yaml
- type: steps
  title: "..."              # 必須: セクションタイトル（全角30文字以内）
  introText: "..."          # 必須: 導入テキスト（全角80文字以内）
  steps:                    # 必須: ステップ配列（2〜5ステップ）
    - number: 1             # 必須: ステップ番号（連番）
      title: "..."          # 必須: ステップタイトル（全角20文字以内）
      text: "..."           # 必須: ステップテキスト（全角40文字以内）
      detailTitle: "..."    # 任意: 詳細タイトル
      details:              # 任意: 詳細リスト（detailTitleと併用）
        - "..."
        - "..."
      detailText: "..."     # 任意: 詳細テキスト（detailsの代わりに使用）
```

### **action（アクションセクション）** — 結（まとめ）・必須・最後に配置
読者へのアクション喚起。CTAとして機能。

```yaml
- type: action
  title: "..."              # 必須: セクションタイトル（全角25文字以内）
  mainText: "..."           # 必須: メインテキスト（全角80文字以内）
  actionStepsTitle: "..."   # 必須: アクションステップタイトル（全角20文字以内）
  actionSteps:              # 必須: アクションステップ配列（2〜4項目）
    - title: "..."          # 必須: ステップタイトル（全角25文字以内）
      description: "..."    # 必須: ステップ説明（全角60文字以内）
  pointText: "..."          # 必須: ポイントテキスト（全角100文字以内）
  footerText: "..."         # 必須: 読者への締めくくりメッセージ（全角30文字以内）
  subFooterText: "sui Tech Blog"  # 【固定】常にこの値を使用
  accentColor: GOLD         # 任意: アクセントカラー
```

**footerText について**
- 読者を鼓舞し、行動を促すクロージングメッセージ
- 記事の内容や結論に合わせて生成する
- 例: 「発展途上の技術を攻略していこう」「同じ課題を感じている方へ」

**subFooterText について**
- **固定値**: 常に `sui Tech Blog` を使用する
- 変更しないこと

### **score_comparison（スコア比較セクション）** — 転（解決策）・数値の比較
棒グラフ形式で数値を比較表示。

```yaml
- type: score_comparison
  title: "..."              # 必須: セクションタイトル（全角30文字以内）
  introText: "..."          # 任意: 導入テキスト
  scores:                   # 必須: スコア配列（2〜4項目）
    - title: "..."          # 必須: スコアタイトル（全角15文字以内）
      value: 100            # 必須: 値（数値または文字列）
      unit: "点"            # 必須: 単位
      barPercentage: 50     # 必須: バーの長さ（0〜100）
      description: "..."    # 任意: 説明テキスト
      accentColor: GOLD     # 任意: アクセントカラー
```

### **list_steps（リストステップセクション）** — 転（解決策）・バッジ付きリスト
バッジ付きのリスト形式でステップを表示。

```yaml
- type: list_steps
  title: "..."              # 必須: セクションタイトル（全角30文字以内）
  introText: "..."          # 任意: 導入テキスト
  steps:                    # 必須: ステップ配列（2〜5項目）
    - badge: "1"            # 必須: バッジテキスト（1〜2文字）
      title: "..."          # 必須: ステップタイトル（全角25文字以内）
      subtitle: "..."       # 任意: サブタイトル
      description: "..."    # 必須: 説明テキスト（全角100文字以内）
      badgeColor: "..."     # 任意: バッジカラー（CSS色指定）
  summaryTitle: "..."       # 任意: まとめタイトル
  summaryText: "..."        # 任意: まとめテキスト
```

### **flow_chart（フローチャートセクション）** — 転（解決策）・プロセスフロー
左から右への流れを矢印で表示。

```yaml
- type: flow_chart
  title: "..."              # 必須: セクションタイトル（全角30文字以内）
  introText: "..."          # 任意: 導入テキスト
  flows:                    # 必須: フロー配列（2〜5項目）
    - label: "..."          # 必須: ラベル（全角10文字以内）
      subLabel: "..."       # 任意: サブラベル（全角20文字以内）
      highlight: true       # 任意: ハイライト表示
      accentColor: GOLD     # 任意: アクセントカラー
```

### **grouped_content（グループ化コンテンツセクション）** — 承/転・階層的な情報の整理
「大分類＞小分類＞カード」のような階層構造を持つ情報や、「概念的なトピックの深掘り」や「本筋の補足となるコラム」に使用。
カード単体ではなく、意味のまとまり（グループ）ごとに情報を整理したい場合に適している。

```yaml
- type: grouped_content
  title: "..."              # 必須: セクションタイトル（全角30文字以内）
  introText: "..."          # 任意: 導入テキスト
  icon: lightbulb           # 任意: アイコン名（デフォルト: lightbulb）
  sectionBgColor: muted     # 任意: セクション背景色（'white' または 'muted'）
  groups:                   # 必須: グループ配列（1〜3グループ）
    - title: "..."          # 任意: グループタイトル（全角25文字以内）
      description: "..."    # 任意: グループ説明（全角80文字以内）
      bgColor: white        # 任意: グループ背景色（'white' または 'muted'）
      isHighlight: false    # 任意: グループ強調（枠線色変化）
      footerText: "..."     # 任意: グループフッターテキスト
      cards:                # 必須: カード配列（2〜6枚）
        - title: "..."      # 必須: カードタイトル（全角20文字以内）
          text: "..."       # 必須: カードテキスト（全角50文字以内）
          isHighlight: true # 任意: カード強調
          accentColor: GOLD # 任意: アクセントカラー
          bgColor: white    # 任意: カード背景色（'white', 'muted', 'gray'）
```

---

## **4.0 COMPOSITION_RULES — 起承転結に基づく構成規則**

### **起承転結と全体構成（必須順序）**

| 順序 | 段階 | セクションタイプ | 必須/任意 | 備考 |
|------|------|-----------------|----------|------|
| 1 | 起（導入） | `hero` | **必須** | 必ず最初に配置 |
| 2 | - | `transition` | 任意 | 起→承の区切り |
| 3 | 承（問題提起） | `problem` / `core_message` / `grouped_content` | **必須**（いずれか1つ以上） | 課題の明確化 |
| 4 | - | `transition` | 任意 | 承→転の区切り |
| 5 | 転（解決策） | `steps` / `list_steps` / `flow_chart` / `score_comparison` / `core_message` / `grouped_content` | **必須**（1つ以上） | 具体的な方法の提示 |
| 6 | - | `transition` | 任意 | 転→結の区切り |
| 7 | 結（まとめ） | `action` | **必須** | 必ず最後に配置 |

### **セクション数の目安**

| 段階 | 最小 | 推奨 | 最大 |
|------|------|------|------|
| 起（導入） | 1 | 1 | 1 |
| 承（問題提起） | 1 | 1〜2 | 3 |
| 転（解決策） | 1 | 2〜4 | 5 |
| 結（まとめ） | 1 | 1 | 1 |
| `transition` | 0 | 1〜2 | 3 |
| **合計** | **4** | **7〜10** | **12** |

### **セクションタイプ選定ロジック**

| コンテンツの特徴 | 選択すべきセクションタイプ | 理由 |
|-----------------|-------------------------|------|
| 複数の課題・問題点がある（通常） | `problem` with `variant: simple` | カード形式で個別課題を視覚化 |
| 複数の課題・問題点がある（強調） | `problem` with `variant: highlight` | 枚線付きで強調表示 |
| 良い例と悪い例の対比がある（強調表示） | `core_message` with `variant: highlight` | 比較形式で差異を明確化、COREバッジ付き |
| 良い例と悪い例の対比がある（導入的） | `core_message` with `variant: simple` | 比較形式、シンプル表示 |
| 記事の最重要な核心メッセージ | `core_message` with `variant: highlight` | ハイライト形式で強調 |
| 問題提起や導入的なメッセージ | `core_message` with `variant: simple` | 枠線なしのシンプル表示 |
| 順序立てた手順がある | `steps` | 番号付きで詳細な手順を表示 |
| 簡潔なリストがある | `list_steps` | バッジ付きで要点を表示 |
| 数値データの比較がある | `score_comparison` | 棒グラフ形式で数値を比較 |
| 流れ・プロセスがある | `flow_chart` | 矢印でフローを視覚化 |
| 階層的な情報の整理が必要 | `grouped_content` | グループ化されたカード形式で階層を表現 |
| 概念の深掘りや補足コラムがある | `grouped_content` | グループごとに情報を整理 |
| 段階間の明確な区切りが必要 | `transition` | 視覚的な区切りを挿入 |

### **アイコン選定ガイドライン**

- コンテンツの意味に最も適したLucide Reactアイコンを自由に選択してください
- アイコン名はキャメルケース（小文字始まり）で指定: `alertCircle`, `checkCircle`, `arrowRight`
- アイコン一覧: https://lucide.dev/icons/
- 未実装のアイコンを使用した場合、ビルドエラーが発生しますが開発者が対応します

### **アクセントカラー使用ガイドライン**

| カラー | 用途 | 使用シーン |
|--------|------|----------|
| `GOLD` | ポジティブ、成功、推奨 | 解決策、利点、ハイライト、CTA |
| `RED` | 警告、問題、重要 | 課題、リスク、注意点 |

**【重要】アクセント使用の制限**
- **1セクション内でアクセントカラー（`accentColor`）は最大1箇所のみ使用する**
- **1セクション内でハイライト（`isHighlight`, `highlight`）は最大1箇所のみ使用する**
- **`problem`セクションでアクセントを使用する場合、必ず真ん中のカードに設定する**
  - 3枚のカードがある場合 → 2番目のカードにアクセントを設定
  - 2枚のカードがある場合 → アクセントを使用しない（両端しかないため）
  - 4枚のカードがある場合 → 2番目または3番目のカードにアクセントを設定
- アクセントは「1つだけ目立たせる」ために存在する。複数使用すると並列化され、かえって変化がなくなる
- 例: `problem` セクションで3枚のカードがある場合、`accentColor: RED` は最も重要な1枚のみに設定
- 例: `flow_chart` セクションで4項目ある場合、`highlight: true` は最も強調したい1項目のみに設定

---

## **5.0 TEXT_RULES — テキスト表現の絶対規則**

### **A. 改行の完全禁止**
- **すべてのフィールドにおいて、改行コード（`\n`, `\\n`）を含めることを禁止する**
- 複数の文を記載する場合は、句点「。」で区切り、1行で記述する
- ただし箇条書き文末の句点「。」は禁止（体言止め推奨）

### **B. 禁止記号**
- 以下の記号をテキストに含めない（装飾はスクリプトが描画）：
    - `■` `□` `◆` `◇` — 箇条書き記号
    - `→` `←` `↑` `↓` `⇒` `⇐` — 矢印
    - `▶` `►` `◀` `◄` — 三角矢印
    - `★` `☆` `○` `●` — 装飾記号

### **C. 番号接頭辞の禁止**
- 以下のセクションタイプでは、番号接頭辞を本文に含めない（自動描画されるため）：
    - `steps.steps[].title` / `steps.steps[].text` — `1.`, `①`, `Step 1` 等を含めない
    - `list_steps.steps[].title` / `list_steps.steps[].description` — 番号を含めない
    - `flow_chart.flows[].label` — `1.`, `①` 等を含めない

### **D. 口調と表現のガイドライン**
- **読者への問いかけや共感を含む表現を維持する**
- 冷たく断定的な表現を避け、読者に寄り添う温かみのある文体を使用
- 原文に問いかけ表現がある場合は、それを活かす
- 良い例: 「毎回入力するのは面倒。自動化できないだろうか？」← 読者への問いかけ
- 悪い例: 「人間が毎回起動指示を出す本末転倒な状況。」← 冷たく断定的

### **E. 文字数制限（はみ出し防止の厳守値）**

| フィールド | 最大文字数 | 備考 |
|-----------|----------|------|
| `hero.title` | 全角40文字 | メインタイトル |
| `hero.subtitle` | 全角80文字 | サブタイトル |
| `title` | 全角30文字 | 各セクションのタイトル |
| `problem.introText` | 全角100文字 | 導入テキスト |
| `problem.cards[].title` | 全角20文字 | カードタイトル |
| `problem.cards[].subtitle` | 全角25文字 | カードサブタイトル |
| `problem.cards[].description` | 全角60文字 | カード説明 |
| `core_message.mainMessage` | 全角120文字 | メインメッセージ |
| `core_message.comparisons[].title` | 全角20文字 | 比較タイトル |
| `core_message.comparisons[].text` | 全角60文字 | 比較テキスト |
| `core_message.coreHighlight.title` | 全角25文字 | ハイライトタイトル |
| `core_message.coreHighlight.text` | 全角80文字 | ハイライトテキスト |
| `steps.introText` | 全角80文字 | 導入テキスト |
| `steps.steps[].title` | 全角20文字 | ステップタイトル |
| `steps.steps[].text` | 全角40文字 | ステップテキスト |
| `action.mainText` | 全角80文字 | メインテキスト |
| `action.actionSteps[].title` | 全角25文字 | アクションタイトル |
| `action.actionSteps[].description` | 全角60文字 | アクション説明 |
| `action.pointText` | 全角100文字 | ポイントテキスト |
| `action.footerText` | 全角30文字 | フッターテキスト |
| `action.subFooterText` | 全角20文字 | サブフッター |
| `score_comparison.scores[].title` | 全角15文字 | スコアタイトル |
| `list_steps.steps[].title` | 全角25文字 | ステップタイトル |
| `list_steps.steps[].description` | 全角100文字 | ステップ説明 |
| `flow_chart.flows[].label` | 全角10文字 | フローラベル |
| `flow_chart.flows[].subLabel` | 全角20文字 | フローサブラベル |
| `grouped_content.title` | 全角30文字 | セクションタイトル |
| `grouped_content.groups[].title` | 全角25文字 | グループタイトル |
| `grouped_content.groups[].description` | 全角80文字 | グループ説明 |
| `grouped_content.groups[].cards[].title` | 全角20文字 | カードタイトル |
| `grouped_content.groups[].cards[].text` | 全角50文字 | カードテキスト |

---

## **6.0 VALIDATION_CHECKLIST — 最終検証チェックリスト**

生成したYAMLを出力する前に、以下のチェックリストをすべて確認すること。

### **構造検証**
- [ ] `hero` セクションが最初に存在する
- [ ] `action` セクションが最後に存在する
- [ ] 起→承→転→結の論理的な流れになっている
- [ ] 最低4種類のセクションタイプを使用している
- [ ] 同一セクションタイプが連続していない（`transition` を除く）
- [ ] セクション数が4〜12の範囲内である

### **フィールド検証**
- [ ] すべての必須フィールドが設定されている
- [ ] `icon` フィールドにLucide Reactの有効なアイコン名を使用している（キャメルケース・小文字始まり）
- [ ] `accentColor` に `GOLD` または `RED` のみを使用している
- [ ] **注意**: 未実装のアイコンを使用した場合、ビルドエラーが発生する可能性があります（その場合は開発者が対応）
- [ ] `core_message.variant` に `highlight` または `simple` のみを使用している
- [ ] `problem.variant` に `highlight` または `simple` のみを使用している
- [ ] `steps` セクションの `number` フィールドが1から連番になっている
- [ ] `score_comparison.scores[].barPercentage` が0〜100の範囲内である
- [ ] **`action` セクションに `actionStepsTitle` が設定されている**
- [ ] **`action` セクションの `subFooterText` が `sui Tech Blog` になっている**

### **テキスト検証**
- [ ] **文字列内に改行コード（`\n`, `\\n`）が含まれていない**
- [ ] **文字列内に禁止記号（`■`, `→`, `▶` 等）が含まれていない**
- [ ] 各フィールドの文字数が制限内である
- [ ] 箇条書き文末に句点「。」が含まれていない
- [ ] 番号接頭辞が自動描画されるフィールドに含まれていない

### **アクセント・ハイライト検証**
- [ ] **各セクション内で `accentColor` が最大1箇所のみ使用されている**
- [ ] **各セクション内で `isHighlight` / `highlight` が最大1箇所のみ使用されている**
- [ ] **`problem`セクションのアクセントが真ん中のカードに設定されている**
- [ ] アクセントが複数箇所に乱用されていない
- [ ] 読者への問いかけや共感表現が維持されている

---

## **7.0 OUTPUT_FORMAT — 最終出力形式**

### **出力形式**
- 出力は **`diagram:` から始まるYAML配列**のみとする
- Markdownフロントマター内の `diagram:` フィールドとして使用可能な形式で出力する
- 最終的な出力は、**単一のYAMLコードブロック（```yaml ... ```）** に格納する

### **YAMLフォーマット規則**
- インデントは**スペース2個**を使用する
- 文字列は**クォートで囲む**（特に日付や特殊文字を含む場合）
- 配列は `-` を使用してリスト形式で記述する
- booleanは `true` / `false` を使用する（クォートなし）
- 数値はクォートなしで記述する

### **出力に含めてはならないもの**
- **コードブロック以外のテキスト（前置き、解説、補足など）は一切含めない**
- 以下のような出力は**禁止**：
    - 「了解いたしました。」
    - 「以下に図解データを生成します」
    - 「ブログ記事の内容を分析した結果」
    - 「diagram:フィールドに追加してください」
    - その他、YAMLデータ以外の説明文や前置き

### **正しい出力例の形式**

```yaml
diagram:
  - type: hero
    date: "YYYY/MM/DD"
    title: "タイトル"
    subtitle: "サブタイトル"
  - type: problem
    title: "問題セクション"
    ...
  - type: action
    title: "アクション"
    ...
```
````

</details>

## 図解のリスクとメリット

技術記事を書く際、常に「正確さ」と「分かりやすさ」のバランスに悩みます。正確に書こうとすると、詳細な説明や補足が増え、読みづらくなります。分かりやすく書こうとすると、厳密には正確ではない表現になってしまいます。図解も同じ葛藤を抱えています。図解は「10 あるものを 1 に凝縮して伝える」要約作業です。そのため、情報の欠落や誤解される恐れが生じます。重要な補足情報を切り落とすことになるため、断片的な情報しか伝わらない可能性もあります。

しかし、情報が欠落する恐れよりも、理解されやすくなる利点の方が圧倒的に大きいと判断しました。なぜなら、まず理解できなければ、詳しく調べようとすら思わないからです。図解で全体像をつかみ、興味を持った部分を本文で深掘りする。この流れを作ることで、読者の認知負荷を下げつつ、理解を深めることができます。

## まとめ

- 生成 AI の普及で、AI との対話や提案内容の確認など、文字を読む量が圧倒的に増えている
- 文字情報だけでは認知負荷が高すぎる
- 図解は全体像を視覚的に示すことで、認知負荷を下げ、記憶の定着を助ける
- 図解は要約であるため情報欠落のリスクはあるが、まず理解されることの方が重要

## 参考

https://ma-ji.ai/articles/24d32270-1834-45ff-ae12-4467e1f82b29

https://note.com/majin_108/n/n11fc2f2190e9

https://en.wikipedia.org/wiki/Decision_fatigue